<?xml version="1.0" encoding="utf-8"?>
<XSN Name="Sirona.xsn">

  <Table Name="Appointment" UID="{83977CCF-7773-48A2-8DAC-FF6B6A32162A}" Alias="apnm" LocalName="Запись на приём" LocalListName="Записи на приём" TitleName="Patient">
    <Fields>
      <Field UID="{ABA03943-5837-4523-BBBD-9A73D937E200}" Name="DateTime" Type="DateTime" LabelName="Дата и время" LocalListName="Дата и время"/>
      <Field UID="{958E944C-E089-487A-B2DF-898AA1DB6BB3}" Name="Patient" Type="String" LabelName="ФИО пациента" LocalListName="ФИО пациента" NotNull="true" PlaceholderText="Введите ФИО пациента (обязательно)"/>
      <Field UID="{53D77A11-8A85-4E71-8CBD-EDA5D5C5DD6A}" Name="Phone" Type="PhoneBase" LabelName="Телефон" LocalListName="Телефон"/>
      <Field UID="{BA3E02F9-CC5E-40A9-9C95-059B5136FFA6}" Name="Doctor" Type="Int" LabelName="Врач" LocalListName="Врач"/>
      <Field UID="{84670B68-D089-4CB7-A05D-69A7E54831AD}" Name="Note" Type="String" LabelName="Примечание" LocalListName="Примечание" PlaceholderText="Введите примечание к записи на приём (не обязательно)"/>
      <Field UID="{75B2BCD0-4A3D-4FDE-B254-0E01C6FB990D}" Name="Finished" Type="Bool" DefaultValue="false" LabelName="Приём завершен" LocalListName="Приём завершен" HideFromObject="true"/>
    </Fields>
    <Indexes>
      <Index Field="DateTime"/>
      <Index Field="Patient"/>
      <Index Field="Phone"/>
      <Index Field="Doctor"/>
      <Index Field="Note"/>
      <Index Field="Finished"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Doctor" ForeignClass="Doctors" ForeignField="ID" ForeignViewNameField="FIO"/>
    </Foreigns>
  </Table>
  
  <Table Name="Research" UID="{AE813B7D-A5AC-43B3-B6EF-0FF1F94A0F3E}" Alias="resr" LocalName="Исследование" LocalListName="Исследования" ObjectForm="ISSironaResearchObjectForm" TitleName="Patient">
    <Fields>
      <Field UID="{CD0F80D0-DF65-4005-A746-9BE49313B0B5}" Name="Date" Type="Date" DefaultValue="CURRENT_DATE" LabelName="Дата" LocalListName="Дата" NotNull="true"/>
      <Field UID="{D008E3B9-E16A-4881-A154-5D1E52AC6037}" Name="Doctor" Type="Int" LabelName="Доктор" LocalListName="Доктор" NotNull="true" LayoutName="Doctor"/>
      <Field UID="{1E5AA246-C45E-4585-B1A5-48E50EECDCFA}" Name="Clinic" Type="Int" LabelName="Клиника" LocalListName="Клиника" LayoutName="Doctor"/>
      <Field UID="{77BCE170-C3D9-4679-9DB5-715CE188CFFA}" Name="Patient" Type="String" LabelName="ФИО пациента" LocalListName="ФИО пациента" NotNull="true" PlaceholderText="Введите ФИО пациента (обязательно)"/>
      <Field UID="{0E7BA513-C7C4-4428-A7AC-BC582A764534}" Name="Type" Type="Int" LabelName="Исследование" LocalListName="Исследование" NotNull="true"/>
      <Field UID="{E03DADAD-EFE0-4F86-8CAF-05CDF76DC93F}" Name="Payment" Type="Int" LabelName="Тип оплаты" LocalListName="Тип оплаты" NotNull="true"/>
      <Field UID="{97224843-2115-4CA1-9F29-5DF113346FFB}" Name="Note" Type="String" PlaceholderText="Введите примечание к исследованию (не обязательно)" LabelName="Примечание" LocalListName="Примечание"/>
      <Field UID="{B7B4CDF5-9453-4A86-A7CB-DA6D0B502752}" Name="Money" Type="Double" LabelName="Оплачено" LocalListName="Оплачено" LayoutName="Money"/>
      <Field UID="{46ECDD97-78D1-460B-8751-ED674C42C0A7}" Name="MoneyDoctor" Type="Double" LabelName="Бонус доктору" LocalListName="Бонус доктору" LayoutName="Money"/>
    </Fields>
    <Indexes>
      <Index Field="Date"/>
      <Index Field="Doctor"/>
      <Index Field="Clinic"/>
      <Index Field="Patient"/>
      <Index Field="Type"/>
      <Index Field="Payment"/>
      <Index Field="Note"/>
      <Index Field="Money"/>
      <Index Field="MoneyDoctor"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Doctor" ForeignClass="Doctors" ForeignField="ID" ForeignViewNameField="FIO"/>
      <Foreign Field="Clinic" ForeignClass="Clinic" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Type" ForeignClass="ResearchType" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Payment" ForeignClass="PaymentType" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="ResearchType" UID="{42FA2EE0-B74F-4B6E-A2FA-1BBC67F6CBBE}" Alias="rstp" LocalName="Тип исследования" LocalListName="Типы исследований" ObjectForm="ISSironaResearchTypeObjectForm" TitleName="Name">
    <Fields>
      <Field UID="{AD63C7F0-A5CD-495E-8B10-EB5B6E9997BC}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
      <Field UID="{3F6334EB-7D46-4355-94F6-0EE41555778A}" Name="Value" Type="Double" LabelName="Стоимость" LocalListName="Стоимость" NotNull="true" LayoutName="Value"/>
      <Field UID="{4AFD79FE-41AB-4D57-8D80-D5365CD3A7C9}" Name="Bonus" Type="Double" LabelName="Бонусная программа" LocalListName="Бонусная программа" NotNull="true" LayoutName="Value"/>
      <Field UID="{E4082914-80B0-448C-B11F-02010F977640}" Name="CenterSeven" Type="Double" ReadOnly="true" LabelName="Центр 7" LocalListName="Центр 7" NotNull="true" LayoutName="Value"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
      <Index Field="Value"/>
      <Index Field="Bonus"/>
      <Index Field="CenterSeven"/>
    </Indexes>
  </Table>
  
  <Table Name="Clinic" UID="{1312ADAF-CE82-49B3-8F79-AEEB81FDCF03}" Alias="clnc" LocalName="Клиника" LocalListName="Клиника" TitleName="Name">
    <Fields>
      <Field UID="{172FFDCC-CE7E-416E-9BD8-A9B1921DF741}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
      <Field UID="{FFD92A0D-5C29-4C64-A1D9-2A02C8BBEC0E}" Name="Address" Type="Address" LabelName="Адрес" LocalListName="Адрес"/>
      <Field UID="{D5267433-3889-412C-83AC-A7B48C8598E5}" Name="Phone" Type="PhoneBase" LabelName="Телефон" LocalListName="Телефон"/>
      <Field UID="{B2EB0A86-6568-4FE5-9C75-5D73C7D5CCC6}" Name="Note" Type="String" LabelName="Примечание" LocalListName="Примечание" HideFromList="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
      <Index Field="Address"/>
      <Index Field="Phone"/>
      <Index Field="Note"/>
    </Indexes>
  </Table>

  <Table Name="Doctors" UID="{FE065A06-4B76-439E-8E40-2C8ADD01BD9C}" Alias="dctr" LocalName="Врач" LocalListName="Врачи" TitleName="FIO">
    <Fields>
      <Field UID="{4DB56DD8-4572-4E6A-AA3E-80A6DB2B4918}" Name="FIO" Type="String" LabelName="ФИО" LocalListName="ФИО" NotNull="true"/>
      <Field UID="{DDFF37C5-1CF7-45DC-90B7-C2B6344803B8}" Name="Phone" Type="PhoneBase" LabelName="Телефон" LocalListName="Телефон"/>
      <Field UID="{5D899F4B-2DCD-4D53-8873-6EF2648F69CF}" Name="Clinic" Type="Int" LabelName="Клиника" LocalListName="Клиника"/>
      <Field UID="{5A2E6AA9-681E-469C-8D38-9E09DC459E60}" Name="Bonus" Type="Bool" DefaultValue="false" LabelName="Бонус" LocalListName="Бонус"/>
      <Field UID="{49FF6007-503F-4EDD-ADBC-E8107668C656}" Name="IsCenterSeven" Type="Bool" DefaultValue="false" LabelName="Врач из центра 7" LocalListName="Врач из центра 7"/>
    </Fields>
    <Indexes>
      <Index Field="FIO" Unique="true"/>
      <Index Field="Phone"/>
      <Index Field="Clinic"/>
      <Index Field="Bonus"/>
      <Index Field="IsCenterSeven"/>
      <Index Field="FIO;Clinic" Unique="true"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Clinic" ForeignClass="Clinic" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>
  
  <Table Name="PaymentType" UID="{BB08E70B-5A3F-4B25-A299-78516B8E066B}" Alias="pmtp" ShowOnly="true" LocalName="Тип оплаты" LocalListName="Типы оплаты" TitleName="Name">
    <Fields>
      <Field UID="{0AECD7EE-FB48-40B6-8021-95B4E7BC0FF5}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>
  
  <Table Name="Cost" UID="{B9844F41-76E1-4FB3-ADB8-6B5C0F6F61FF}" Alias="cost" LocalName="Расход" LocalListName="Расходы" ObjectForm="ISSironaCostObjectForm" TitleName="Name">
    <Fields>
      <Field UID="{BE570CE9-5BF6-46DE-A7B4-D91CAFB57A54}" Name="Date" Type="Date" LabelName="Дата" LocalListName="Дата"/>
      <Field UID="{A0B32D3B-8385-45A4-AE6A-71E39F74CDE0}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
      <Field UID="{5C114A36-90B0-422F-BCCB-ED46962383AD}" Name="Type" Type="Int" LabelName="Тип расхода" LocalListName="Тип расхода"/>
      <Field UID="{8837BD5C-98B0-468A-A0EA-1B845D6D7902}" Name="Sum" Type="Double" LabelName="Сумма" LocalListName="Сумма" NotNull="true"/>
      <Field UID="{3C40E904-D8DE-410B-9072-37B8EE88FEA0}" Name="Note" Type="String" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Date"/>
      <Index Field="Name"/>
      <Index Field="Type"/>
      <Index Field="Sum"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Type" ForeignClass="CostType" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>
  
  <Table Name="CostType" UID="{0CB7F404-1122-4948-8995-26881CB61D4C}" Alias="cstp" LocalName="Тип расхода" LocalListName="Типы расходов" TitleName="Name">
    <Fields>
      <Field UID="{C6E659DE-F308-47A5-A378-798EA71E12C6}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="ReportPeriod" UID="{BA0D7BED-3209-435C-90E2-4DDD0E76E1C0}" Alias="rprd" LocalName="Очётный период" LocalListName="Отчётные периоды" TitleName="ID">
    <Fields>
      <Field UID="{C65C6696-0D07-40FD-A7AA-D46A575C4BB8}" Name="Begin" Type="Date" LabelName="Начало периода" LocalListName="Начало периода" NotNull="true"/>
      <Field UID="{8E1A0044-90B3-4399-92C0-9679EC819468}" Name="End" Type="Date" LabelName="Конец периода" LocalListName="Конец периода" NotNull="true"/>
      <Field UID="{55272955-AF66-44D4-AE0C-44A769C5D9AF}" Name="Note" Type="String" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Begin"/>
      <Index Field="End"/>
      <Index Field="Note"/>
      <Index Field="Begin;End" Unique="true"/>
    </Indexes>
  </Table>

</XSN>