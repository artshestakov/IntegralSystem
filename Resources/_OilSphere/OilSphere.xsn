<?xml version="1.0" encoding="utf-8"?>
<XSN Name="OilSphere.xsn">
  
  <Table Name="Counterparty" UID="{833FC9C9-F3C4-49B1-A181-33DA44F28922}" Alias="cnpr" LocalName="Контрагент" LocalListName="Контрагенты" TitleName="Name" ObjectForm="ISOilSphere::CounterpartyObjectForm">
    <Fields>
      <Field UID="{BB62B804-B840-4523-AF34-C89E89F76000}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
      <Field UID="{3B7EB4F8-CFEB-40C8-99E9-22150ED555B9}" Name="Address" Type="String" LabelName="Адрес" LocalListName="Адрес"/>
      <Field UID="{7D005CC2-2604-4CD0-AA08-8579EA92C659}" Name="Type" Type="BigInt" LabelName="Тип" LocalListName="Тип"/>
      <Field UID="{F561ECC8-D12A-44B9-A7BA-8FAA06AB6673}" Name="Status" Type="BigInt" LabelName="Статус" LocalListName="Статус"/>
      <Field UID="{4514E2E7-18C5-4B1B-8052-AEFCBF4626E8}" Name="Director" Type="String" LabelName="Директор" LocalListName="Директор"/>
      <Field UID="{3CB172A8-590C-462B-AB70-F6A4BABF3A24}" Name="Inn" Type="Inn" LabelName="ИНН" LocalListName="ИНН" LayoutName="INN"/>
      <Field UID="{4459AAC7-F885-4120-A1D8-13C7E84179B0}" Name="Kpp" Type="Kpp" LabelName="КПП" LocalListName="КПП" LayoutName="INN"/>
      <Field UID="{2BF964F2-20F0-44C6-91D6-CB436DBFFE67}" Name="Ogrn" Type="Ogrn" LabelName="ОГРН" LocalListName="ОГРН" LayoutName="INN"/>
      <Field UID="{6A63EE11-4F3E-4C72-BBE6-454AF87E2BD6}" Name="Phone" Type="Phone" LabelName="Телефон" LocalListName="Телефон" LayoutName="Phone"/>
      <Field UID="{AB52855E-A2E9-4DA8-BFBE-1885CCCA13EF}" Name="EMail" Type="EMail" LabelName="Электронная почта" LocalListName="Электронная почта" LayoutName="Phone"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
      <Index Field="Address"/>
      <Index Field="Type"/>
      <Index Field="Status"/>
      <Index Field="Director"/>
      <Index Field="Inn"/>
      <Index Field="Kpp"/>
      <Index Field="Ogrn"/>
      <Index Field="Phone" Unique="true"/>
      <Index Field="EMail"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Type" ForeignClass="CounterpartyType" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Status" ForeignClass="CounterpartyStatus" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
    <Escorts>
      <Escort LocalName="Зачисления" TableName="CounterpartyEnrollment" FilterField="Counterparty"/>
      <Escort LocalName="Списания" TableName="CounterpartyWriteOff" FilterField="Counterparty"/>
    </Escorts>
  </Table>

  <Table Name="CounterpartyEnrollment" UID="{BB867613-17D5-4FC0-B29F-6C5167257630}" Alias="cpen" LocalName="Зачисление" LocalListName="Зачилсения" TitleName="Counterparty">
    <Fields>
      <Field UID="{1EA7C67D-02A9-421A-B742-FC25DFE2808F}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <Field UID="{EBEF5EA5-0AEC-4A47-A3B4-C094D6CE4247}" Name="Date" Type="Date" LabelName="Дата операции" LocalListName="Дата операции" NotNull="true"/>
      <Field UID="{E72F8D34-7317-484D-BD2F-01AF4889D8FB}" Name="Sum" Type="Double" LabelName="Сумма зачисления" LocalListName="Сумма зачисления" NotNull="true"/>
      <Field UID="{787F2C5F-1840-4108-A5C5-EAB4AAEBE89E}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Counterparty"/>
      <Index Field="Date"/>
      <Index Field="Sum"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="CounterpartyWriteOff" UID="{901F3DE4-1302-4A79-80E3-E2CDF966E9B5}" Alias="cpwo" LocalName="Списание" LocalListName="Списания" ShowOnly="true" TitleName="Counterparty">
    <Fields>
      <Field UID="{EAB963AB-0DE6-4671-B372-9BE5429E3E51}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <!--<Field UID="{8582AE37-D4F2-4E0D-8E97-8C6A91E66255}" Name="ImplementationDetail" Type="Int" LabelName="Деталь реализации" LocalListName="Деталь реализации" HideFromObject="true" NotNull="true"/>-->
      <Field UID="{D024AF09-07F4-4C25-806E-680C968D3F35}" Name="Sum" Type="Double" LabelName="Сумма списания" LocalListName="Сумма списания" NotNull="true"/>
      <Field UID="{FBBBAAA5-D961-44F1-8438-55BB09BD5D77}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Counterparty"/>
      <!--<Index Field="ImplementationDetail"/>-->
      <Index Field="Sum"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
    <SystemFields>
      <Field Name="CreationDate" LocalName="Дата операции"/>
    </SystemFields>
  </Table>

  <Table Name="Implementation" UID="{DC253A0F-C05D-4F33-9786-F9FB507FCD08}" Alias="impl" LocalName="Реализация" LocalListName="Реализация" TitleName="Date">
    <Fields>
      <Field UID="{0315D371-7932-4DE2-9913-52DA23DBE33E}" Name="Date" Type="Date" LabelName="Дата" LocalListName="Дата" NotNull="true"/>
      <Field UID="{17DD0C95-280D-4C2B-88AC-2376E083A2DE}" Name="ProductType" Type="BigInt" LabelName="Тип продукта" LocalListName="Тип продукта" NotNull="true"/>
      <Field UID="{1384A6C2-FDB7-4586-B7ED-08B2FC68CC76}" Name="Driver" Type="BigInt" LabelName="Водитель" LocalListName="Водитель" LayoutName="Driver"/>
      <Field UID="{63634143-4B5D-453E-8318-A283BACD15B4}" Name="Car" Type="BigInt" LabelName="Автомобиль" LocalListName="Автомобиль" LayoutName="Driver"/>
      <Field UID="{AB8F960B-45B3-4822-9F67-AEF74B65A5E3}" Name="LoadCount" Type="Int" ReadOnly="true" LabelName="Количество загрузок" LocalListName="Количество загрузок" SeparatorName="Общее" LayoutName="Load" QueryText="SELECT COUNT(*) FROM implementationload WHERE NOT ilod_isdeleted AND ilod_implementation = impl_id"/>
      <Field UID="{216A78EB-E5BA-4786-8766-577C27B842AF}" Name="LoadWeightGross" Type="Double" ReadOnly="true" LabelName="Вес загрузки (брутто)" LocalListName="Вес загрузки (брутто)" LayoutName="Load" QueryText="SELECT sum(ilod_weightgross) FROM implementationload WHERE NOT ilod_isdeleted AND ilod_implementation = impl_id"/>
      <Field UID="{7047216E-288F-4355-98EE-982603061C5D}" Name="LoadWeightNet" Type="Double" ReadOnly="true" LabelName="Вес загрузки (нетто)" LocalListName="Вес загрузки (нетто)" LayoutName="Load" QueryText="SELECT sum(ilod_weightnet) FROM implementationload WHERE NOT ilod_isdeleted AND ilod_implementation = impl_id"/>
      <Field UID="{A86A8680-D363-4CCC-90E6-E11FED2E50CF}" Name="LoadCost" Type="Double" ReadOnly="true" LabelName="Стоимость загрузки" LocalListName="Стоимость загрузки" LayoutName="Load" QueryText="SELECT sum(ilod_cost) FROM implementationload WHERE NOT ilod_isdeleted AND ilod_implementation = impl_id"/>
      <Field UID="{9A469E5C-DED8-4701-930A-37A647B7A2D2}" Name="UnloadCount" Type="Int" ReadOnly="true" LabelName="Количество выгрузок" LocalListName="Количество выгрузок" LayoutName="Unload" QueryText="SELECT COUNT(*) FROM implementationunload WHERE NOT iunl_isdeleted AND iunl_implementation = impl_id"/>
      <Field UID="{6449D540-D02B-4EC1-B367-B112500BB2D9}" Name="UnloadWeightGross" Type="Double" ReadOnly="true" LabelName="Вес выгрузки (брутто)" LocalListName="Вес выгрузки (брутто)" LayoutName="Unload" QueryText="SELECT sum(iunl_weightgross) FROM implementationunload WHERE NOT iunl_isdeleted AND iunl_implementation = impl_id"/>
      <Field UID="{D7A74FDD-106C-4FFC-A6AB-AC13D461CF99}" Name="UnloadWeightNet" Type="Double" ReadOnly="true" LabelName="Вес выгрузки (нетто)" LocalListName="Вес выгрузки (нетто)" LayoutName="Unload" QueryText="SELECT sum(iunl_weightnet) FROM implementationunload WHERE NOT iunl_isdeleted AND iunl_implementation = impl_id"/>
      <Field UID="{1EA933CA-06AE-4F0D-B2B3-B6CCAD7A9B46}" Name="UnloadCost" Type="Double" ReadOnly="true" LabelName="Стоимость выгрузки" LocalListName="Стоимость выгрузки" LayoutName="Unload" QueryText="SELECT sum(iunl_cost) FROM implementationunload WHERE NOT iunl_isdeleted AND iunl_implementation = impl_id"/>
      <Field UID="{4864E582-6A0F-4BCC-A3CB-024B3CD70310}" Name="WeightDifference" Type="Double" ReadOnly="true" LabelName="Разница весов" LocalListName="Разница весов" QueryText="WITH r AS (SELECT (SELECT sum(ilod_weightnet) AS load FROM implementationload WHERE ilod_implementation = impl_id), (SELECT sum(iunl_weightnet) AS unload FROM implementationunload WHERE iunl_implementation = impl_id)) SELECT CASE WHEN load > unload THEN load - unload ELSE unload - load END FROM r"/>
    </Fields>
    <Indexes>
      <Index Field="Date"/>
      <Index Field="ProductType"/>
      <Index Field="Driver"/>
      <Index Field="Car"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="ProductType" ForeignClass="ProductType" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Driver" ForeignClass="Driver" ForeignField="ID" ForeignViewNameField="FIO"/>
      <Foreign Field="Car" ForeignClass="Car" ForeignField="ID" ForeignViewNameField="Mark;Model;Number"/>
    </Foreigns>
    <Escorts>
      <Escort LocalName="Загрузка" TableName="ImplementationLoad" FilterField="Implementation"/>
      <Escort LocalName="Выгрузка" TableName="ImplementationUnload" FilterField="Implementation"/>
    </Escorts>
  </Table>

  <Table Name="ImplementationLoad" UID="{FA3F9DFF-16BB-4170-A0B0-E8044332ECB3}" Alias="ilod" LocalName="Загрузка" LocalListName="Загрузки" TitleName="ID" ObjectForm="ISOilSphere::ImplementationLoadObjectForm">
    <Fields>
      <Field UID="{A65F0858-C7C4-4C7C-B715-1FB59A5E2EED}" Name="Implementation" Type="BigInt" LabelName="Реализация" LocalListName="Реализация" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <Field UID="{7236B6F9-0890-414D-B3EE-C829602CF376}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент"/>
      <Field UID="{747E79CA-D9B9-4127-B66D-51B421673545}" Name="Stock" Type="BigInt" LabelName="Склад" LocalListName="Склад"/>
      <Field UID="{70F3A0FF-3034-437D-A998-7863EE3310FB}" Name="Container" Type="Double" LabelName="Тара (весы)" LocalListName="Тара (весы)" LayoutName="Container"/>
      <Field UID="{FD72FC59-F89E-43E8-A074-CFF6CF8DD587}" Name="WeightGross" Type="Double" LabelName="Вес (брутто)" LocalListName="Вес (брутто)" LayoutName="Container"/>
      <Field UID="{E0BB3135-E091-4D06-9854-19BCEF3D2629}" Name="WeightNet" Type="Double" ReadOnly="true" LabelName="Вес (нетто)" LocalListName="Вес (нетто)" LayoutName="Container"/>
      <Field UID="{12223763-4E01-4C53-AA20-63FA8BC05D64}" Name="PriceUnit" Type="Double" LabelName="Цена за кг./л" LocalListName="Цена за кг./л" LayoutName="Price"/>
      <Field UID="{CCA79032-4463-4059-B973-41CA4792AC1D}" Name="Cost" Type="Double" ReadOnly="true" LabelName="Стоимость" LocalListName="Стоимость" LayoutName="Price"/>
      <Field UID="{C80569A0-764A-4746-B69F-01D403B97E42}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Implementation"/>
      <Index Field="Counterparty"/>
      <Index Field="Stock"/>
      <Index Field="Container"/>
      <Index Field="WeightGross"/>
      <Index Field="WeightNet"/>
      <Index Field="PriceUnit"/>
      <Index Field="Cost"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Implementation" ForeignClass="Implementation" ForeignField="ID" ForeignViewNameField="Date"/>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Stock" ForeignClass="Stock" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>
  
  <Table Name="ImplementationUnload" UID="{EEA80ECE-1EE1-47C8-92BC-7AD3FB92337E}" Alias="iunl" LocalName="Выгрузка" LocalListName="Выгрузки" TitleName="ID" ObjectForm="ISOilSphere::ImplementationUnloadObjectForm">
    <Fields>
      <Field UID="{9256664C-F15B-42AC-8CD6-854D0B575FB5}" Name="Implementation" Type="BigInt" LabelName="Реализация" LocalListName="Реализация" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <Field UID="{5B6F6960-F201-417C-9682-04855C0DF468}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент"/>
      <Field UID="{08F8D368-32A9-4F87-A5A9-01C115C24146}" Name="Stock" Type="BigInt" LabelName="Склад" LocalListName="Склад"/>
      <Field UID="{B3D72F1A-14BA-4C24-84E5-B59974135CE4}" Name="Container" Type="Double" LabelName="Вес (тара)" LocalListName="Вес (тара)" LayoutName="Unload"/>
      <Field UID="{92E7D55E-FE3B-4175-AF84-7D859085BDB1}" Name="WeightGross" Type="Double" LabelName="Вес (брутто)" LocalListName="Вес (брутто)" LayoutName="Unload"/>
      <Field UID="{BC20D00D-9D02-4848-85F7-40626A422118}" Name="WeightNet" Type="Double" ReadOnly="true" LabelName="Вес (нетто)" LocalListName="Вес (нетто)" LayoutName="Unload"/>
      <Field UID="{770982DA-76BB-4A3B-B107-A9404D0FE3F8}" Name="PriceUnit" Type="Double" LabelName="Цена за кг./л" LocalListName="Цена за кг./л" LayoutName="UnloadPrice"/>
      <Field UID="{B46EDE1E-5076-4AEA-ACA2-5ADA91F186B7}" Name="Cost" Type="Double" ReadOnly="true" LabelName="Стоимость" LocalListName="Стоимость" LayoutName="UnloadPrice"/>
      <Field UID="{7F4BA1E7-DBD1-4766-A108-5A118FA3BB66}" Name="PaymentType" Type="BigInt" LabelName="Тип оплаты" LocalListName="Тип оплаты" NotNull="true" SeparatorName="Дополнительно"/>
      <Field UID="{2AB41BFD-F2DE-450F-8002-B67D60052C49}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Implementation"/>
      <Index Field="Counterparty"/>
      <Index Field="Stock"/>
      <Index Field="WeightGross"/>
      <Index Field="Container"/>
      <Index Field="WeightNet"/>
      <Index Field="PriceUnit"/>
      <Index Field="Cost"/>
      <Index Field="PaymentType"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Implementation" ForeignClass="Implementation" ForeignField="ID" ForeignViewNameField="Date"/>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Stock" ForeignClass="Stock" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="PaymentType" ForeignClass="PaymentType" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="DebtOld" UID="{38BF717C-938B-486F-80DA-8F3F3FA96914}" Alias="dold" LocalName="Долг (старый)" LocalListName="Долг (старый)" TitleName="Counterparty">
    <Fields>
      <Field UID="{AE11D732-B596-4E45-A468-6E4C7E2337D3}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент" NotNull="true"/>
      <Field UID="{C01CBB35-FA78-4DE7-96BF-6F2402732CAE}" Name="Date" Type="Date" LabelName="Дата" LocalListName="Дата"/>
      <Field UID="{28E4EA19-2C55-4EB1-9068-33C8A88510EC}" Name="Sum" Type="Double" LabelName="Сумма долга" LocalListName="Сумма долга" NotNull="true"/>
      <Field UID="{A7DB1268-74A1-40FE-996B-B8FF5F432F12}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Counterparty"/>
      <Index Field="Date"/>
      <Index Field="Sum"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="CounterpartyType" UID="{838409C1-063F-4595-AD0C-0D9499CA4E5C}" Alias="cntp" LocalName="Тип контрагента" LocalListName="Типы контрагентов" TitleName="Name">
    <Fields>
      <Field UID="{3C15FF5D-3C52-4F62-9E34-CFD4FCC2D80E}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="CounterpartyStatus" UID="{A6ECB0F6-E730-4B75-970A-17691865BE26}" Alias="cnst" LocalName="Статус контрагента" LocalListName="Статусы контрагентов" TitleName="Name">
    <Fields>
      <Field UID="{9B314A7F-15A0-4C50-9A93-F4310C5B56AA}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="PaymentType" UID="{0A1A27E0-3CDD-47B2-900D-C0CC82ED159B}" Alias="pmtp" LocalName="Тип оплаты" LocalListName="Типы оплаты" TitleName="Name">
    <Fields>
      <Field UID="{01CEBE1A-99DE-496A-9405-979AD71379C0}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="ProductType" UID="{7863AAAC-FB7B-4330-97BB-8490409134DB}" Alias="pdtp" LocalName="Тип продукта" LocalListName="Типы продуктов" TitleName="Name">
    <Fields>
      <Field UID="{31320A15-8039-4899-B642-4DF4A7B34F13}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="Driver" UID="{DB23E49B-FAE0-4BEB-BC6F-0661C3B74BFF}" Alias="drvr" LocalName="Водитель" LocalListName="Водители" TitleName="FIO">
    <Fields>
      <Field UID="{19147562-18AA-4DC7-953F-A0DD4A0843D7}" Name="FIO" Type="String" LabelName="ФИО" LocalListName="ФИО" NotNull="true"/>
      <Field UID="{FECC72D2-03B6-44BC-85D5-0197204274C9}" Name="Birthday" Type="Birthday" LabelName="Дата рождения" LocalListName="Дата рождения"/>
      <Field UID="{1F9C9036-EDC7-4E91-AC72-852A810A7CB1}" Name="Type" Type="BigInt" LabelName="Тип водителя" LocalListName="Тип водителя"/>
      <Field UID="{50874597-C07E-4CF9-9DC1-12A2C99D007F}" Name="Address" Type="String" LabelName="Адрес (домашний)" LocalListName="Адрес (домашний)"/>
      <Field UID="{5CFC1697-2A76-4C3E-B5A7-D7365BAF441B}" Name="PhoneMain" Type="Phone" LabelName="Телефон (основной)" LocalListName="Телефон (основной)"/>
      <Field UID="{FE94A84B-E945-4D59-AD10-5962DBF23102}" Name="PhoneOther" Type="Phone" LabelName="Телефон (дополнительный)" LocalListName="Телефон (дополнительный)"/>
      <Field UID="{B259018F-0E88-4DA7-988B-36747489F91F}" Name="EMail" Type="EMail" LabelName="Электронная почта" LocalListName="Электронная почта"/>
      <Field UID="{32A4254D-1D93-4FE8-811F-6E8235343785}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="FIO"/>
      <Index Field="Birthday"/>
      <Index Field="Type"/>
      <Index Field="Address"/>
      <Index Field="PhoneMain" Unique="true"/>
      <Index Field="PhoneOther" Unique="true"/>
      <Index Field="EMail"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Type" ForeignClass="DriverType" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="DriverType" UID="{B237DF98-804E-4913-A20B-8D1536CC313A}" Alias="drtp" LocalName="Тип водителя" LocalListName="Типы водителей" TitleName="Name">
    <Fields>
      <Field UID="{A2C7173B-3DF8-4FF2-9EB6-B8325459D041}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>
  
  <Table Name="Car" UID="{5D3EA65D-8595-4334-BA66-F76AA0A5D0AE}" Alias="cars" LocalName="Автомобиль" LocalListName="Автомобили" TitleName="Mark;Model;Number">
    <Fields>
      <Field UID="{61BF0C58-DFFC-4998-AEAD-1A7BABAC33AD}" Name="Mark" Type="String" LabelName="Марка" LocalListName="Марка" NotNull="true"/>
      <Field UID="{593974BD-BF3C-4270-86CC-DE6936D45C7B}" Name="Model" Type="String" LabelName="Модель" LocalListName="Модель" NotNull="true"/>
      <Field UID="{DB93A5B6-5F6C-4E03-AF9E-B133024D2F1A}" Name="Number" Type="String" LabelName="Гос. номер" LocalListName="Гос. номер" NotNull="true"/>
      <Field UID="{2B4D0C01-6018-4E9A-B110-AEE74332C5C6}" Name="VIN" Type="Vin" LabelName="ВИН" LocalListName="ВИН"/>
    </Fields>
    <Indexes>
      <Index Field="Mark"/>
      <Index Field="Model"/>
      <Index Field="Number"/>
      <Index Field="VIN"/>
    </Indexes>
  </Table>

  <Table Name="GasStationStatement" UID="{C9620F81-9306-4170-A9D4-569744F55697}" Alias="gsts" LocalName="Ведомость АЗС" LocalListName="Ведомость АЗС" TitleName="Date" ObjectForm="ISOilSphere::GasStationStatementObjectForm">
    <Fields>
      <Field UID="{7C6A6D31-3F92-41A6-836D-A1B96E345A92}" Name="ImplementationUnload" Type="BigInt" LabelName="Выгрузка" LocalListName="Выгрузка" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <Field UID="{4809E303-3E8F-42D3-B3A8-1B0C108DEB40}" Name="Stock" Type="BigInt" ReadOnly="true" LabelName="Склад" LocalListName="Склад" NotNull="true" HideFromList="true" LayoutName="Title"/>
      <Field UID="{64DC2A84-C906-4F46-AE3E-3D32E273E236}" Name="Date" Type="Date" LabelName="Дата" LocalListName="Дата" NotNull="true" LayoutName="Title"/>
      <Field UID="{AC99A6CC-A80E-4807-A6BF-C5712A8A8C3E}" Name="Operator" Type="BigInt" LabelName="Оператор" LocalListName="Оператор" LayoutName="Title"/>
      <Field UID="{1CA44875-F7D1-4624-8B1E-5A12F82E5CA5}" Name="Change" Type="Int" LabelName="Смена" LocalListName="Смена" LayoutName="Title" HideFromObject="true"/>
      
      <Field UID="{79298632-AE9B-4DFF-B0EF-EE23CD9A6914}" Name="BalanceBeginChange" Type="Double" LabelName="Остаток на начало смены" LocalListName="Остаток на начало смены" LayoutName="Layout1"/>
      <Field UID="{6E0C3D58-C0B2-4BA7-B62E-AB0EA597317A}" Name="VolumeIncome" Type="Double" ReadOnly="true" LabelName="Объём прихода" LocalListName="Объём прихода" NotNull="true" LayoutName="Layout1"/>
      <Field UID="{1BD71122-D089-4A06-A903-1643F15B12BF}" Name="VolumeHolidaysCounters" Type="Double" LabelName="Объём отпуска по счётчикам" LocalListName="Объём отпуска по счётчикам" LayoutName="Layout1"/>
      <Field UID="{39277383-AE19-43D9-8219-166C8B51A3A6}" Name="TechnicalStraitDeviation" Type="Double" LabelName="Технический пролив, отклонения" LocalListName="Технический пролив, отклонения" LayoutName="Layout1"/>
      <Field UID="{4DEFF451-A68A-4AD4-8CEB-0D2EFEFF4F24}" Name="StraitNote" Type="String" LabelName="Пояснение пролива" LocalListName="Пояснение пролива" LayoutName="Layout1"/>
      <Field UID="{FF4D3766-3CBB-469B-8135-45E978185266}" Name="BalanceEndChange" Type="Double" LabelName="Остаток на конец смены" LocalListName="Остаток на конец смены"/>
      
      <Field UID="{321C8D0A-D118-4C48-A0A4-D911C34B0C40}" Name="SalesAmount" Type="Double" LabelName="Сумма реализации" LocalListName="Сумма реализации" SeparatorName="Продажи и поступления" LayoutName="Layout2"/>
      <Field UID="{912692BE-3D25-48C4-A794-5E0DA25277D8}" Name="KKMCash" Type="Double" LabelName="ККМ наличные" LocalListName="ККМ наличные" LayoutName="Layout2"/>
      <Field UID="{DD200050-9CF2-4829-991B-561BC6554A6C}" Name="KKMCashless" Type="Double" LabelName="ККМ безналичные" LocalListName="ККМ безналичные" LayoutName="Layout2"/>
      <Field UID="{741FE611-0F11-4CB2-A8A5-A6B6C16C5EAF}" Name="Statements" Type="Double" LabelName="Ведомости" LocalListName="Ведомости" LayoutName="Layout2"/>

      <Field UID="{6C2A6801-9056-4959-8565-AD092BF71EFC}" Name="PaySoldVolume" Type="Double" LabelName="Выплата с проданного объёма" LocalListName="Выплата с проданного объёма" LayoutName="Layout3"/>
      <Field UID="{1CC47F68-0A72-4548-AEFB-CA872A40C11F}" Name="PresenceDebt" Type="Double" LabelName="Наличие долга" LocalListName="Наличие долга" LayoutName="Layout3"/>
      <Field UID="{423037B5-20A4-47B3-ADBF-E59BD172CCBC}" Name="DebtNote" Type="String" LabelName="Пояснение долга" LocalListName="Пояснение долга" LayoutName="Layout3"/>

      <Field UID="{34E1380C-9677-40CC-8050-03C793B0C64A}" Name="CashboxBalancePayment" Type="Double" ReadOnly="true" LabelName="Остаток в кассе, расчёт" LocalListName="Остаток в кассе, расчёт" SeparatorName="Касса" LayoutName="Layout4"/>
      <Field UID="{735E9E17-F729-440D-AD30-3B36984E4D6F}" Name="CashboxBalanceActually" Type="Double" ReadOnly="true" LabelName="Остаток в кассе, фактический" LocalListName="Остаток в кассе, фактический" LayoutName="Layout4"/>
      <Field UID="{CE7603C4-ABF4-4745-BA70-F2F62746789D}" Name="CashboxDiscrepancies" Type="Double" ReadOnly="true" LabelName="Расхождения" LocalListName="Расхождения" LayoutName="Layout4"/>
      <Field UID="{0D0A420B-6BBF-4482-8861-5DB54CB6BA24}" Name="CashboxKKMCash" Type="Double" ReadOnly="true" LabelName="Наличные по ККМ" LocalListName="Наличные по ККМ" LayoutName="Layout4"/>
      <Field UID="{CD7622A3-1F45-4662-B390-3C2EF10841B5}" Name="CashboxTotalPayment" Type="Double" ReadOnly="true" LabelName="Накопительный итог, расчёт" LocalListName="Накопительный итог, расчёт" LayoutName="Layout5"/>
      <Field UID="{353092C3-F451-4F54-ACA1-6C9A8297FBD5}" Name="CashboxTotalActually" Type="Double" ReadOnly="true" LabelName="Накопительный итог, фактический" LocalListName="Накопительный итог, фактический" LayoutName="Layout5"/>
      <Field UID="{01E8D88F-213C-4617-A079-4E65AA65A099}" Name="CashboxDiscrepanciesTotals" Type="Double" ReadOnly="true" LabelName="Расхождения итогов" LocalListName="Расхождения итогов" LayoutName="Layout5"/>
      <Field UID="{64D434CD-5E32-4F6F-A7C2-E7F6E5E1D526}" Name="CashboxKKMTotal" Type="Double" ReadOnly="true" LabelName="Накопительный итог по ККМ" LocalListName="Накопительный итог по ККМ"/>
      <Field UID="{91D0DB88-3EB3-4E09-91A8-FE2B421B820B}" Name="CashboxCollectionAmount" Type="Double" LabelName="Сумма инкассации" LocalListName="Сумма инкассации"/>
      <Field UID="{C0E5DFC2-41FF-4C0A-BD3E-B91FB00E4601}" Name="CashboxCollectionAmountKKM" Type="Double" LabelName="Сумма инкассации ККМ" LocalListName="Сумма инкассации ККМ"/>
      <Field UID="{D3501D71-2A4D-4E42-B435-C58511CC074F}" Name="CashboxAdministrativeExpenses" Type="Double" LabelName="Административные расходы с кассы" LocalListName="Административные расходы с кассы" LayoutName="Layout6"/>
      <Field UID="{8E7094B4-DE39-466C-A7AD-A12346A7EB10}" Name="CashboxAdministrativeExpensesNote" Type="String" LabelName="Пояснения к административным расходам" LocalListName="Пояснения к административным расходам" LayoutName="Layout6"/>
    </Fields>
    <Indexes>
      <Index Field="ImplementationUnload"/>
      <Index Field="Stock"/>
      <Index Field="Date"/>
      <Index Field="Operator"/>
      <Index Field="Change"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="ImplementationUnload" ForeignClass="ImplementationUnload" ForeignField="ID"/>
      <Foreign Field="Stock" ForeignClass="Stock" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Operator" ForeignClass="Operator" ForeignField="ID" ForeignViewNameField="FIO"/>
    </Foreigns>
  </Table>

  <Table Name="Operator" UID="{84E69F6B-3072-4815-9318-4A61E753F4A2}" Alias="oper" LocalName="Оператор" LocalListName="Оператор" TitleName="FIO">
    <Fields>
      <Field UID="{DF5A811C-857B-4E41-9E66-4D9FA3D8075D}" Name="FIO" Type="String" LabelName="ФИО" LocalListName="ФИО" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="FIO" Unique="true"/>
    </Indexes>
  </Table>
  
  <Table Name="OperationType" UID="{398473D9-FC00-4565-99A2-C70E35A95160}" Alias="optp" LocalName="Тип операции" LocalListName="Тип операции" TitleName="Name">
    <Fields>
      <Field UID="{610F62E2-B596-41DA-BB65-B08F64F395E2}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="Debet1" UID="{6FD4EE55-A3F7-4E96-883E-925A948B935A}" Alias="deb1" LocalName="Дебет 1" LocalListName="Дебет 1" TitleName="DateComing" ObjectForm="ISOilSphere::DebetObjectForm">
    <Fields>
      <Field UID="{04482A58-63A5-4106-9D86-04A33D19C657}" Name="DateComing" Type="Date" LabelName="Дата прихода" LocalListName="Дата прихода" LayoutName="Date"/>
      <Field UID="{AF55147F-AA42-452E-8EB5-BCA1B805C77C}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент" LayoutName="Date"/>
      <Field UID="{DA51AC4E-F5FA-47DB-950F-A6A27C4E79E7}" Name="Coming" Type="Double" LabelName="Приход" LocalListName="Приход" LayoutName="Coming"/>
      <Field UID="{45637C9C-076E-499D-8488-F5BDEB7510A0}" Name="Percent" Type="Double" LabelName="Процент" LocalListName="Процент" LayoutName="Coming"/>
      <Field UID="{A7A9E5C6-1517-47A4-B621-09958862E8D0}" Name="Total" Type="Double" LabelName="Итого" LocalListName="Итого" LayoutName="Coming"/>
      <Field UID="{FE1EFFD3-5F14-42AC-89CB-2968BFC52744}" Name="DateReturn" Type="Date" LabelName="Дата возврата" LocalListName="Дата возврата" LayoutName="DateReturn"/>
      <Field UID="{6D8CF294-D4E5-4026-9056-68CC4DFCFDB0}" Name="Calculation" Type="Double" LabelName="Расчёт" LocalListName="Расчёт" LayoutName="DateReturn"/>
      <Field UID="{4C09D8BD-F29A-4EB9-81E7-698F2B90576C}" Name="Remainder" Type="Double" LabelName="Остаток" LocalListName="Остаток" LayoutName="DateReturn"/>
      <Field UID="{E58FB379-7635-4C7B-B8AF-7C00FD760640}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="DateComing"/>
      <Index Field="Counterparty"/>
      <Index Field="Coming"/>
      <Index Field="Percent"/>
      <Index Field="Total"/>
      <Index Field="DateReturn"/>
      <Index Field="Calculation"/>
      <Index Field="Remainder"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="Stock" UID="{49AA23FB-4679-4349-95FA-DB1933ED65BE}" Alias="stck" LocalName="Склад" LocalListName="Склады" TitleName="Name">
    <Fields>
      <Field UID="{E256950B-F90C-4643-9493-ADFEB2349918}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
    <Escorts>
      <Escort LocalName="Прибытия" ClassName="ISOilSphere::ArrivalStock"/>
      <Escort LocalName="Списания" ClassName="ISOilSphere::StockWriteOff"/>
    </Escorts>
  </Table>

  <Table Name="Station" UID="{2455675E-EB7E-4D52-A348-0832BB759059}" Alias="stat" LocalName="Станция" LocalListName="Станции" TitleName="Name">
    <Fields>
      <Field UID="{FBB6152E-E215-4D17-8BCF-DECFE807E7B7}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="ConsumptionSUG" UID="{6A343038-3BF0-4ED9-A2DA-F5EF218D3D38}" Alias="csug" LocalName="Расход СУГ" LocalListName="Расходы СУГ" TitleName="DateTime" ObjectForm="ISOilSphere::ConsumptionSUGObjectForm">
    <Fields>
      <Field UID="{569D169D-A604-439A-B02B-8A08BF6D0C88}" Name="DateTime" Type="DateTime" LabelName="Дата и время" LocalListName="Дата и время" NotNull="true"/>
      <Field UID="{6259D563-FE8D-44B1-A849-3B23B9C26B2D}" Name="Station" Type="BigInt" LabelName="Станция" LocalListName="Станция" LayoutName="Station"/>
      <Field UID="{74926D23-CDD0-4D30-8132-E83623503FC9}" Name="Counterparty" Type="BigInt" LabelName="Контрагент" LocalListName="Контрагент" LayoutName="Station"/>
      <Field UID="{982CFF4A-684A-4307-8321-96ED64B25307}" Name="Car" Type="BigInt" LabelName="Автомобиль" LocalListName="Автомобиль" LayoutName="Car"/>
      <Field UID="{C3049C86-8B21-47B6-943A-97952FDF2535}" Name="Took" Type="BigInt" LabelName="Забрал" LocalListName="Забрал" LayoutName="Car"/>
      <Field UID="{F334FCBE-6114-4082-BF67-A4879BA2F3D3}" Name="Coming" Type="Int" LabelName="Приход" LocalListName="Приход" LayoutName="Coming"/>
      <Field UID="{2BB8266D-BAA2-4304-96CD-A222B85479FF}" Name="Consumption" Type="Int" LabelName="Расход" LocalListName="Расход" LayoutName="Coming"/>
      <Field UID="{FC67B691-1DCC-47D0-A17E-4E284716670D}" Name="Remainder" Type="Int" ReadOnly="true" LabelName="Остаток" LocalListName="Остаток" LayoutName="Coming"/>
      <Field UID="{BA0E8481-7C12-4E03-822C-C59680C0B564}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="DateTime"/>
      <Index Field="Station"/>
      <Index Field="Counterparty"/>
      <Index Field="Car"/>
      <Index Field="Took"/>
      <Index Field="Coming"/>
      <Index Field="Consumption"/>
      <Index Field="Remainder"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Station" ForeignClass="Station" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Counterparty" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Car" ForeignClass="Car" ForeignField="ID" ForeignViewNameField="Number"/>
      <Foreign Field="Took" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="MoveWagon" UID="{C8417E41-30A5-46AC-A7C6-05E2C3520E60}" Alias="mwag" LocalName="Движения вагонов" LocalListName="Движения вагонов" TitleName="DateShipping">
    <Fields>
      <Field UID="{BDC812BD-2136-450D-AD39-FC986774DBC2}" Name="DateShipping" Type="Date" LabelName="Дата отгрузки" LocalListName="Дата отгрузки" NotNull="true" LayoutName="DateShipping" SeparatorName="Отгрузка"/>
      <Field UID="{2A72FD16-99E4-4147-A544-513140F4B40D}" Name="Provider" Type="BigInt" LabelName="Поставщик" LocalListName="Поставщик" NotNull="true" LayoutName="DateShipping"/>
      <Field UID="{546A0D2F-CB17-4DD2-99BD-16793CAD6501}" Name="DateArrival" Type="Date" LabelName="Дата прибытия" LocalListName="Дата прибытия" LayoutName="DateArrival" SeparatorName="Прибытие"/>
      <Field UID="{28F1374B-CDDE-4902-B6F0-6B4DBE6A1640}" Name="Stock" Type="BigInt" LabelName="Склад" LocalListName="Склад" LayoutName="DateArrival"/>
      <Field UID="{3A6F9BAF-1671-444F-B128-1CC990BD136E}" Name="Price" Type="Int" LabelName="Цена" LocalListName="Цена" LayoutName="Price" SeparatorName="Дополнительная информация"/>
      <Field UID="{3929B107-F2B9-4F71-B5BD-AFF1EE373876}" Name="Kilogram" Type="Double" ReadOnly="true" LabelName="Общая масса" LocalListName="Общая масса" LayoutName="Price" QueryText="SELECT sum(mwdt_kilogram) FROM movewagondetail WHERE NOT mwdt_isdeleted AND mwdt_movewagon = mwag_id"/>
      <Field UID="{41EB2FB9-67B7-4BAE-9CC5-A74D063516BA}" Name="Waybill" Type="String" LabelName="Накладная" LocalListName="Накладная" LayoutName="Price"/>
      <Field UID="{C6DFF9F3-C4D4-456C-8EFF-77AB756A360F}" Name="PassportQuality" Type="Bool" DefaultValue="false" LabelName="Паспорт качества" LocalListName="Паспорт качества"/>
      <Field UID="{1FFBC69B-26E5-4180-AF52-DB1F5FE37201}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="DateShipping"/>
      <Index Field="Provider"/>
      <Index Field="DateArrival"/>
      <Index Field="Stock"/>
      <Index Field="Price"/>
      <Index Field="Waybill"/>
      <Index Field="PassportQuality"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Provider" ForeignClass="Counterparty" ForeignField="ID" ForeignViewNameField="Name"/>
      <Foreign Field="Stock" ForeignClass="Stock" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
    <Escorts>
      <Escort LocalName="Подробности передвижений" TableName="MoveWagonDetail" FilterField="MoveWagon"/>
    </Escorts>
  </Table>

  <Table Name="MoveWagonDetail" UID="{5E5F2AB5-29EA-46CB-84CF-93890DF87965}" Alias="mwdt" LocalName="Детали движения вагона" LocalListName="Детали движения вагонов" TitleName="WagonNumber">
    <Fields>
      <Field UID="{B9AD4F3A-6AA9-485D-9B4A-4CD558392A63}" Name="MoveWagon" Type="BigInt" LabelName="Движения вагонов" LocalListName="Движения вагонов" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <Field UID="{916CDBC8-55AC-4A22-8B0D-9CA43D6A4A3F}" Name="WagonNumber" Type="Int" LabelName="Номер вагона" LocalListName="Номер вагона"/>
      <Field UID="{B94799C8-4ADB-490A-A835-83F50E36CCAE}" Name="Kilogram" Type="Double" LabelName="Килограммы" LocalListName="Килограммы"/>
      <Field UID="{1071385C-D44D-48A4-A757-DFA13AA32D27}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="MoveWagon"/>
      <Index Field="WagonNumber"/>
      <Index Field="Kilogram"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="MoveWagon" ForeignClass="MoveWagon" ForeignField="ID" ForeignViewNameField="DateShipping"/>
    </Foreigns>
  </Table>

  <Table Name="DriverExpenses" UID="{933357F2-ED4D-49CA-AF28-DC3ED4873C60}" Alias="drex" LocalName="Расход водителя" LocalListName="Расходы водителей" TitleName="Driver">
    <Fields>
      <Field UID="{18EC4EF2-23BC-4B68-A8ED-F1CA315552BF}" Name="Driver" Type="BigInt" LabelName="Водитель" LocalListName="Водитель" NotNull="true"/>
      <Field UID="{A4BD7ADE-0EC2-4D31-9CC4-898A034D8348}" Name="Date" Type="Date" LabelName="Дата" LocalListName="Дата" NotNull="true" LayoutName="Date"/>
      <Field UID="{0E4FFD31-632F-405E-8C3D-E5F40835A0B7}" Name="Coming" Type="Double" LabelName="Приход" LocalListName="Приход" NotNull="true" LayoutName="Date"/>
      <Field UID="{BE580F77-B118-454F-8751-62469DF707CF}" Name="Consumption" Type="Double" ReadOnly="true" LabelName="Расход" LocalListName="Расход" LayoutName="Date" QueryText="SELECT sum(dexd_price) FROM driverexpensesdetail WHERE NOT dexd_isdeleted AND dexd_driverexpenses = drex_id"/>
      <Field UID="{1D0350CD-177A-4076-B964-95E8DB6DDBFD}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Driver"/>
      <Index Field="Date"/>
      <Index Field="Coming"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="Driver" ForeignClass="Driver" ForeignField="ID" ForeignViewNameField="FIO"/>
    </Foreigns>
    <Escorts>
      <Escort LocalName="Подробности расходов" TableName="DriverExpensesDetail" FilterField="DriverExpenses"/>
    </Escorts>
  </Table>

  <Table Name="DriverExpensesDetail" UID="{1BC1638C-687A-4423-94AD-3E591554C911}" Alias="dexd" LocalName="Подробности расходов" LocalListName="Подробности расходов" TitleName="Service">
    <Fields>
      <Field UID="{7382BD00-C037-4B93-A0F5-A21E66C2DBD3}" Name="DriverExpenses" Type="BigInt" LabelName="Расход водителя" LocalListName="Расход водителя" NotNull="true" HideFromList="true" HideFromObject="true"/>
      <Field UID="{F61804DD-00C4-4024-8446-2DBF6C27E92D}" Name="Service" Type="BigInt" LabelName="Услуга" LocalListName="Услуга" NotNull="true"/>
      <Field UID="{3E689891-AE2A-4589-B80E-79F47B46A324}" Name="Price" Type="Double" LabelName="Стоимость" LocalListName="Стоимость" NotNull="true"/>
      <Field UID="{B177D422-38F4-4D28-A3BC-33C0C9158B5E}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="DriverExpenses"/>
      <Index Field="Service"/>
      <Index Field="Price"/>
      <Index Field="Note"/>
    </Indexes>
    <Foreigns>
      <Foreign Field="DriverExpenses" ForeignClass="DriverExpenses" ForeignField="ID"/>
      <Foreign Field="Service" ForeignClass="DriverService" ForeignField="ID" ForeignViewNameField="Name"/>
    </Foreigns>
  </Table>

  <Table Name="DriverService" UID="{FB317D58-F783-47F2-A8AD-E6D40CC28AC0}" Alias="dsrv" LocalName="Услуга" LocalListName="Услуги" TitleName="Name">
    <Fields>
      <Field UID="{7154D2FE-5091-48AD-ACD5-BD49BB39DA41}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
    </Indexes>
  </Table>

  <Table Name="Period" UID="{832E7C72-9D07-46D6-910F-DCB04131C968}" Alias="prod" LocalName="Период" LocalListName="Периоды" TitleName="Name">
    <Fields>
      <Field UID="{C2729C95-DD67-40C6-9356-64084300F124}" Name="Name" Type="String" LabelName="Наименование" LocalListName="Наименование" NotNull="true"/>
      <Field UID="{0BECAF8A-8D84-4379-BC6E-005DC6974F01}" Name="DateStart" Type="Date" LabelName="Начало периода" LocalListName="Начало периода" NotNull="true" LayoutName="DateStart"/>
      <Field UID="{F8553578-5954-4538-B9F6-28FA61D4337A}" Name="DateEnd" Type="Date" LabelName="Конец периода" LocalListName="Конец периода" NotNull="true" LayoutName="DateStart"/>
      <Field UID="{8B2A4D90-C051-4B18-9A4E-949D1454FDF4}" Name="Constant" Type="Double" LabelName="Константа" LocalListName="Константа" NotNull="true" LayoutName="DateStart"/>
      <Field UID="{BC93B9AA-6A9E-4543-BA99-9C17790770D2}" Name="Note" Type="Text" LabelName="Примечание" LocalListName="Примечание"/>
    </Fields>
    <Indexes>
      <Index Field="Name" Unique="true"/>
      <Index Field="DateStart"/>
      <Index Field="DateEnd"/>
      <Index Field="Constant"/>
      <Index Field="Note"/>
    </Indexes>
  </Table>

</XSN>
